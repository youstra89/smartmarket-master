{% extends 'base.html.twig' %}

{% block stylesheets %}
{% endblock %}



{% block title user.username ~ ' | Changer mot de passe compte Orientation Authentique' %}


{% block notification %}
  {% for message in app.flashes('success') %}
    <div class="uk-container uk-padding-small">
      <div class="uk-alert-success" uk-alert>
        <a class="uk-alert-close" uk-close></a>
        <p>{{ message }}</p>
      </div>
    </div>
  {% endfor %}
  {% for message in app.flashes('error') %}
    <div class="uk-container uk-padding-small">
      <div class="uk-alert-danger" uk-alert>
        <a class="uk-alert-close" uk-close></a>
        <p>{{ message }}</p>
      </div>
    </div>
  {% endfor %}
{% endblock %}


{% block body %}
  <div class="uk-container uk-padding-small">
    <h1 class="uk-heading-line uk-heading-primary uk-text-center"><span>Changement de mot de passe</span></h1>
    <p class="uk-text-center"></p>
    <h2>Changer mot de passe : <strong>{{ user.username }}</strong><br> </h2>
    <div class="uk-grid">
      <div class="uk-width-1-4@s">
        <strong>Dernière modification du mot de passe</strong><br>
        {% if user.pwdChangedAt is empty %}
          <p>Jamais modifié</p>
        {% else %}
          {{ user.pwdChangedAt|date('d-m-y à H:i') }}
        {% endif %}
      </div>
    </div><br>
    {{ form_start(form) }}
      <fieldset class="uk-fieldset">
        <div class="uk-grid">
          <div class="uk-width-1-3@s">
            {{ form_row(form.password, { 'attr': {'class': 'uk-input'} }) }}
          </div>
          <div class="uk-width-1-3@s">
            {{ form_row(form.new_password, { 'attr': {'class': 'uk-input'} }) }}
          </div>
          <div class="uk-width-1-3@s">
            {{ form_row(form.new_password1, { 'attr': {'class': 'uk-input'} }) }}
          </div>
        </div><br>
      </fieldset><br>
      {{ form_rest(form) }}
      <button class="uk-button uk-button-primary">{{ button|default('Enregistrer') }}</button>
    {{ form_end(form) }}

  </div>
{% endblock %}


{% block javascripts %}
{% endblock %}
